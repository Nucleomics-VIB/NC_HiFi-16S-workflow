params.outdir="results"
params.enable_conda=false

profiles {
  standard {
    conda {
    useMamba = true
    // Allow longer conda creation timeout
    createTimeout = '2 h'
    cacheDir = "$HOME/nf_conda/"
    }
    params.enable_conda = true
  }
  conda {
    conda {
    useMamba = true
    // Allow longer conda creation timeout
    createTimeout = '2 h'
    cacheDir = "$HOME/nf_conda/"
    }
    params.enable_conda = true
    singularity.enabled = false
    singularity.automounts = false
    docker.enabled = false
    podman.enabled = false
    shifter.enabled = false
    charliecloud.enabled = false
  }
  singularity {
    singularity.enabled = true
    singularity.autoMounts = true
    docker.enabled = false
    podman.enabled = false
    shifter.enabled = false
    charliecloud.enabled = false
  }
}

process {
  withLabel: cpu_def {
    cpus = 4
    memory = 16.GB
  }

  withLabel: cpu8 {
    cpus = 8
    memory = 32.GB
  }

  withLabel: cpu32 {
    cpus = 32
    memory = 128.GB
  }
}

process {
  executor = 'slurm'
  queue = 'compute'
}

// Generate report
report {
  enabled = true
  file = "report_$params.outdir/report.html"
}
// Timeline
timeline {
  enabled = true
  file = "report_$params.outdir/timeline.html"
}
// DAG
dag {
  enabled = true
  file = "report_$params.outdir/dag.html"
}
