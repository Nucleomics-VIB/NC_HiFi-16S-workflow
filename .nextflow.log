May-19 07:47:07.622 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --help
May-19 07:47:07.679 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 22.04.0
May-19 07:47:07.698 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /localdisk/home/kpin/github/pb-16S-nf/nextflow.config
May-19 07:47:07.699 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /localdisk/home/kpin/github/pb-16S-nf/nextflow.config
May-19 07:47:07.718 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
May-19 07:47:08.420 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [mad_aryabhata] DSL2 - revision: ac7ff61ac4
May-19 07:47:08.436 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/home/kpin/.nextflow/plugins; core-plugins: nf-amazon@1.7.1,nf-azure@0.13.1,nf-console@1.0.3,nf-ga4gh@1.0.3,nf-google@1.1.4,nf-sqldb@0.4.0,nf-tower@1.4.0
May-19 07:47:08.438 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
May-19 07:47:08.452 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
May-19 07:47:08.454 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
May-19 07:47:08.458 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
May-19 07:47:08.469 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
May-19 07:47:08.525 [main] DEBUG nextflow.Session - Session uuid: 2e8f2e60-9f0e-41a3-b64a-84120dd6a80b
May-19 07:47:08.526 [main] DEBUG nextflow.Session - Run name: mad_aryabhata
May-19 07:47:08.526 [main] DEBUG nextflow.Session - Executor pool size: 64
May-19 07:47:08.762 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 22.04.0 build 5697
  Created: 23-04-2022 18:00 UTC 
  System: Linux 3.10.0-1160.62.1.el7.x86_64
  Runtime: Groovy 3.0.10 on OpenJDK 64-Bit Server VM 11.0.8-internal+0-adhoc..src
  Encoding: UTF-8 (UTF-8)
  Process: 110140@nrt-sgappslab [172.168.5.4]
  CPUs: 64 - Mem: 251.4 GB (70.1 GB) - Swap: 16 GB (15.8 GB)
May-19 07:47:08.814 [main] DEBUG nextflow.Session - Work-dir: /localdisk/home/kpin/github/pb-16S-nf/work [nfs]
May-19 07:47:08.814 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /localdisk/home/kpin/github/pb-16S-nf/bin
May-19 07:47:08.830 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
May-19 07:47:08.847 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
May-19 07:47:08.893 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
May-19 07:47:08.906 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 65; maxThreads: 1000
May-19 07:47:09.077 [main] DEBUG nextflow.Session - Session start invoked
May-19 07:47:10.301 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
May-19 07:47:10.325 [main] INFO  nextflow.Nextflow - 
  Usage:
  This pipeline takes in the standard sample manifest and metadata file used in
  QIIME 2 and produces QC summary, taxonomy classification results and visualization.

  For samples TSV, two columns named "sample-id" and "absolute-filepath" are
  required. For metadata TSV file, at least two columns named "sample_name" and
  "condition" to separate samples into different groups.

  nextflow run main.nf --input samples.tsv --metadata metadata.tsv \
    --dada2_cpu 8 --vsearch_cpu 8

  By default, sequences are first trimmed with cutadapt (higher rate compared to using DADA2
  ) using the example command below. You can skip this by specifying "--skip_primer_trim" 
  if the sequences are already trimmed. The primer sequences used are the F27 and R1492
  primers for full length 16S sequencing.

  Other important options:
  --filterQ    Filter input reads above this Q value (default: 30).
  --max_ee    DADA2 max_EE parameter. Reads with number of expected errors higher than
              this value will be discarded (default: 2)
  --min_len    Minimum length of sequences to keep (default: 1000)
  --max_len    Maximum length of sequences to keep (default: 1600)
  --pooling_method    QIIME 2 pooling method for DADA2 denoise (default: "pseudo"),
                      see QIIME 2 documentation for more details
  --maxreject    max-reject parameter for VSEARCH taxonomy classification method in QIIME 2
                 (default: 100)
  --maxaccept    max-accept parameter for VSEARCH taxonomy classification method in QIIME 2
                 (default: 5)
  --vsearch_identity    Minimum identity to be considered as hit (default 0.97)
  --rarefaction_depth    Rarefaction curve "max-depth" parameter. By default the pipeline
                         automatically select a cut-off above the minimum of the denoised 
                         reads for >90% of the samples. This cut-off is stored in a file called
                         "rarefaction_depth_suggested.txt" file in the results folder
                         (default: null)
  --dada2_cpu    Number of threads for DADA2 denoising (default: 8)
  --vsearch_cpu    Number of threads for VSEARCH taxonomy classification (default: 8)
  --cutadapt_cpu    Number of threads for primer removal using cutadapt (default: 16)
  --outdir    Output directory name (default: "results")
  --vsearch_db	Location of VSEARCH database (e.g. silva-138-99-seqs.qza can be
                downloaded from QIIME database)
  --vsearch_tax    Location of VSEARCH database taxonomy (e.g. silva-138-99-tax.qza can be
                   downloaded from QIIME database)
  --silva_db   Location of Silva 138 database for taxonomy classification 
  --gtdb_db    Location of GTDB r202 for taxonomy classification
  --refseq_db    Location of RefSeq+RDP database for taxonomy classification
  --skip_primer_trim    Skip all primers trimming (switch off cutadapt and DADA2 primers
                        removal) (default: trim with cutadapt)
  
